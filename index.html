<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS Envelope + Letter (Open/Close on Click)</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div class="container">
        <div class="envelope-wrapper" id="envelopeWrapper">
            <div class="envelope">
                <div class="letter">
                    <div class="text">
                        <strong>Halo sunshine,</strong>
                        <p>
                            Udah kelar baca zinenya? Aku ada game nih buat kamu mainan! Caranya, kamu harus slide ya biar fotonya jadi utuh, kan itu acak-acakan hehe.
                        </p>
                        <p>
                            Kalau kamu udah siap main game seru ini, yuk, **pencet tombol di bawah ini** ya! Aku tunggu!
                        </p>
                        <p>
                            Dari aku, <br>
                            Pangeran Hafiz
					
                        </p>
                    </div>
                </div>
            </div>
            <div class="heart" id="originalHeart"></div>
            <div class="next-button" id="nextButton">
                > Lanjut
            </div>
        </div>
        <div class="instruction-text" id="instructionText">klik amplopnya dulu</div>
        </div>

    <script>
        const envelopeWrapper = document.getElementById('envelopeWrapper');
        const originalHeart = document.getElementById('originalHeart');
        const nextButton = document.getElementById('nextButton');
        const instructionText = document.getElementById('instructionText');

        // ==== Kode baru untuk efek Parallax ====
        const bodyElement = document.body; // Ambil elemen body
        const parallaxStrength = 10; // Kekuatan efek parallax (dalam piksel)

        document.addEventListener('mousemove', (e) => {
            // Hitung posisi mouse relatif terhadap tengah layar
            const mouseX = e.clientX / window.innerWidth - 0.5;
            const mouseY = e.clientY / window.innerHeight - 0.5;

            // Hitung pergeseran untuk background-position
            const offsetX = -mouseX * parallaxStrength;
            const offsetY = -mouseY * parallaxStrength;

            // Terapkan pergeseran pada pseudo-elemen body::before
            // Kita akan mengubah background-position dari body::before di CSS
            bodyElement.style.setProperty('--parallax-offset-x', `${offsetX}px`);
            bodyElement.style.setProperty('--parallax-offset-y', `${offsetY}px`);
        });
        // ======================================

        // --- Kode JavaScript yang sudah ada untuk amplop dan tombol ---
        nextButton.style.display = 'none';

        envelopeWrapper.addEventListener('click', () => {
            envelopeWrapper.classList.toggle('flap');
            
            if (envelopeWrapper.classList.contains('flap')) {
                instructionText.classList.add('hidden');
                nextButton.style.display = 'block';
                originalHeart.style.display = 'none';
            } else {
                instructionText.classList.remove('hidden');
                nextButton.style.display = 'none';
                originalHeart.style.display = 'block';
            }
        });

        nextButton.addEventListener('click', (event) => {
            event.stopPropagation(); 
            window.location.href = './tes/index.html'; // GANTI DENGAN LINK ANDA (misal: './tes/index.html')
            
            instructionText.classList.add('hidden'); 
            nextButton.style.display = 'none'; 
        });

        const letter = document.querySelector('.letter');
        letter.addEventListener('click', (event) => {
            event.stopPropagation();
        });
    </script>
</body>
</html>